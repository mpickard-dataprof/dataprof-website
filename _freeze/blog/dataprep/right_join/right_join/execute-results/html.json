{
  "hash": "f3a4604cbbf3af174a97c71a40764214",
  "result": {
    "markdown": "---\ntitle: \"Right Join\"\nformat: html\n---\n\n\n\n\n\n## What is a right join?\nA right join keeps all the rows from the right table and inserts NULLs on the left when there is not a matching row found in the left table.\n\nThis Venn diagram illustrates which rows are included in a right join.\n\n![](right_join_venn.svg){height=250 fig-align=\"center\"}\n\n:::{.callout-note}\nA right join is the mirror of a left join.\n:::\n\n## How does a right join work?\nA right join visits every row in the right table and then checks if there is a matching row in the left table. If there is, it combines the matching left and right row.  If there is not, it places nulls on the left side.\n\n::: {layout=\"[[32,68], [100]]\"}\n![Left Table](right_join_left_table.svg)\n\n![Right Table](right_join_right_table.svg)\n\n![Right Joined Result](right_join_results.svg)\n:::\n\nNotice how the last row (`id=-8`, `role=\"frenzied monster drummer\"`, `wage_per_hour=45.75`) in the right table does not have a match in the left table. So, nulls are inserted into the left columns of the result.\n\n[The Data School](https://dataschool.com/how-to-teach-people-sql/left-right-join-animated/) provides [a nice animation](https://dataschool.com/assets/images/how-to-teach-people-sql/leftJoin/leftJoin_4.gif) of the row by row operations for a right join.\n\n\n## How many records end up in the result of an inner join?\n\n$L =$ # of records in the left table\n\n$R =$ # of records in the right table\n\nThe number of records in the final left join is $R$. \n\n\n## Implementing a right join in different tools\nHere is how you perform a right join in [R](#r), [Python](#python), [Power BI](#power-bi), and [Excel](#excel).\n\n### R \n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n\nemployees %>% \n  right_join(positions, by = \"muppet_id\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 Ã— 4\n  muppet_id names           role                     wage_per_hour\n      <dbl> <chr>           <chr>                            <dbl>\n1         1 Kermit the Frog pragmatic leader                  75  \n2         2 Miss Piggy      diva pig                          85  \n3         3 Fozzie the Bear stand-up comic                    25.2\n4         4 Gonzo           stunt performer                   54.5\n5         8 <NA>            frenzied monster drummer          45.8\n```\n:::\n:::\n\n\n### Python\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\nimport pandas as pd\n\npd.merge(employees, positions, how='right')\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   muppet_id            names                      role  wage_per_hour\n0        1.0  Kermit the Frog          pragmatic leader          75.00\n1        2.0       Miss Piggy                  diva pig          85.00\n2        3.0  Fozzie the Bear            stand-up comic          25.25\n3        4.0            Gonzo           stunt performer          54.50\n4        8.0              NaN  frenzied monster drummer          45.75\n```\n:::\n:::\n\n\n### Power BI\nIn Power BI, we invoke Power Query through the Home >> Transform data menu item.\n\n{{< video https://youtu.be/xO-_RiJn4G8 >}}\n\n\n\n### Excel\nIn native Excel, there is not a true right join.  As demonstrated in the [left join](../left_join/left_join.html) post, we can use `VLOOKUP()` repeatedly to \"join\" multiples columns in a \"left join\" manner. Since a right join mirrors a left join; to perform a left join, we can simply swap the left and right tables then perform a left join with `VLOOKUP()`. It's not ideal, but it illustrates how similar interchangeable left and right joins are.\n\n{{< video https://youtu.be/EkT-cb13IVc >}}\n\n\n\n:::{.callout-note}\nYou can invoke Power Query in Excel (through the Data >> Get Data menu item) to perform a true right join.\n:::",
    "supporting": [
      "right_join_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}